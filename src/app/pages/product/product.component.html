<app-header></app-header>

<div class="page container product" *ngIf="product">
  <breadcrumbs class="product__breadcrumbs" [breadcrumbs]="breadcrumbs" [showLastItem]="false"></breadcrumbs>

  <h1 class="product__title">
    {{ product.name }}
  </h1>

  <div class="product__ratin-sku">

    <div class="product__rating" *ngIf="product.reviewsAvgRating">
      <rating-stars class="product__rating-cmp"
                    [rating]="product.reviewsAvgRating"
                    (click)="scrollToReviews()"
      ></rating-stars>

      <div class="product__rating-count">{{ product.reviewsCount }}</div>
    </div>

    <div class="product__sku-container" [class.product__sku-container--with-vendor]="product.vendorCode">
      <div class="product__sku">
        Код: <span class="product__sku-value">{{ product.sku }}</span>
      </div>

      <div class="product__sku product__vendor-code" *ngIf="product.vendorCode">
        Артикул: <span class="product__sku-value">{{ product.vendorCode }}</span>
      </div>
    </div>
  </div>

  <product-gallery class="product__gallery" [medias]="product.medias"></product-gallery>

  <div class="product__short-description">
    {{ product.shortDescription }}
  </div>

  <div class="product__price">
    {{ product.priceInDefaultCurrency }} <span class="product__currency">грн</span>
  </div>

  <div class="product__qty qty">
    <span class="qty__control qty__control--dec" (click)="decrementQty()">
      <i class="mbi mbi-minus qty__control-icon"></i>
    </span>

    <input class="qty__input" [formControl]="qtyControl" type="number" min="1">

    <span class="qty__control qty__control--inc" (click)="incrementQty()">
      <i class="mbi mbi-plus qty__control-icon"></i>
    </span>
  </div>

  <div class="product__actions">
    <button class="btn product__buy" (click)="addToCart()" type="button">
      <i class="mbi mbi-cart product__buy-icon"></i>
      Купить
    </button>

    <button class="product__wishlist" *ngIf="false" (click)="addToWishlist()" type="button">
      <i class="mbi mbi-heart product__wishlist-icon"></i>
    </button>
  </div>

  <div class="product__categories">
    Категории: <a class="product__category"
                  *ngFor="let category of product.categories, last as last"
                  [routerLink]="'/' + category.slug"
                  target="_blank"
    >
      {{ category.name }}<ng-container *ngIf="!last">, </ng-container>
    </a>
  </div>

  <product-details class="product__details" [product]="product"></product-details>

</div>

<app-footer></app-footer>
